---
layout: default
title: Diary
permalink: /diary/
---

<h1>Diary</h1>

<nav class="filters">
  <label>Member:
    <select id="member-filter">
      <option value="">(All)</option>
      {% assign members = site.members | default: site.collections.members.docs %}
      {% if members %}
        {% for m in members %}
          <option value="{{ m.slug | default: m.name | downcase }}">{{ m.name | default: m.title }}</option>
        {% endfor %}
      {% endif %}
    </select>
  </label>
</nav>

<ul id="diary-list" class="diary-list">
  {% assign entries = site.diary | sort: "date" | reverse %}
  {% for post in entries %}
    <li class="diary-item" data-author="{{ post.author | downcase }}">
      <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
      <small>
        {{ post.date | date: "%Y-%m-%d" }}
        {% if post.author %} Â· {{ post.author }}{% endif %}
      </small>
    </li>
  {% endfor %}
</ul>

<script>
  const sel = document.getElementById('member-filter');
  const items = Array.from(document.querySelectorAll('.diary-item'));
  sel.addEventListener('change', () => {
    const pick = sel.value;
    items.forEach(li => {
      li.style.display = (!pick || li.dataset.author === pick) ? '' : 'none';
    });
  });
</script>
