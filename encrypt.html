---
layout: page
title: ファイルの暗号化
permalink: /encrypt.html
hide_title: true
---

<link rel="stylesheet" href="/Drowse-Lab/assets/css/encrypt.css">
<link rel="manifest" href="/Drowse-Lab/assets/data/manifest.json" />
<a href="/Drowse-Lab/other.html" class="back-button" data-i18n="encrypt.back">← 戻る</a>

<div class="encrypt-container">
    <h1 data-i18n="encrypt.title">ファイルの暗号化・復号化</h1>
    
    <div class="file-area" id="dropArea">
        <p data-i18n="encrypt.dragDrop">ここにファイルをドラッグ＆ドロップ</p>
        <p data-i18n="encrypt.or">または</p>
        <input type="file" id="fileInput" style="display: none;">
        <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()" data-i18n="encrypt.selectFile">ファイルを選択</button>
    </div>

    <div class="file-info" id="fileInfo">
        <h3 data-i18n="encrypt.selectedFile">選択されたファイル</h3>
        <p><span data-i18n="encrypt.fileName">ファイル名:</span> <span id="fileName"></span></p>
        <p><span data-i18n="encrypt.fileSize">ファイルサイズ:</span> <span id="fileSize"></span></p>
    </div>

    <div class="password-input">
        <label for="password" data-i18n="encrypt.password">パスワード:</label>
        <input type="password" id="password" placeholder="暗号化/復号化用のパスワード" data-i18n="encrypt.passwordPlaceholder">
    </div>

    <div class="button-group">
        <button class="btn btn-primary" id="encryptBtn" disabled data-i18n="encrypt.encrypt">暗号化</button>
        <button class="btn btn-secondary" id="decryptBtn" disabled data-i18n="encrypt.decrypt">復号化</button>
    </div>

    <div class="status-message" id="statusMessage"></div>

    <div class="settings-section">
        <h2 data-i18n="encrypt.settings">暗号化設定</h2>
        
        <div class="preset-buttons">
            <button class="btn btn-preset" onclick="loadPreset('high-security')" data-i18n="encrypt.highSecurity">高セキュリティ</button>
            <button class="btn btn-preset" onclick="loadPreset('balanced')" data-i18n="encrypt.balanced">バランス型</button>
            <button class="btn btn-preset" onclick="loadPreset('fast')" data-i18n="encrypt.fast">高速処理</button>
        </div>

        <div class="settings-grid">
            <div class="setting-item">
                <label for="algorithm" data-i18n="encrypt.algorithm">暗号化アルゴリズム:</label>
                <select id="algorithm">
                    <option value="AES-GCM" data-i18n="encrypt.aesGcm">AES-GCM (推奨)</option>
                    <option value="AES-CBC" data-i18n="encrypt.aesCbc">AES-CBC</option>
                    <option value="AES-CTR" data-i18n="encrypt.aesCtr">AES-CTR</option>
                </select>
            </div>
            
            <div class="setting-item">
                <label for="keySize" data-i18n="encrypt.keySize">キーサイズ:</label>
                <select id="keySize">
                    <option value="128" data-i18n="encrypt.bits128">128ビット</option>
                    <option value="256" selected data-i18n="encrypt.bits256">256ビット</option>
                </select>
            </div>
            
            <div class="setting-item">
                <label for="iterations" data-i18n="encrypt.iterations">反復回数:</label>
                <input type="number" id="iterations" value="10000" min="1000" max="1000000">
            </div>
            
            <div class="setting-item">
                <label for="saltLength" data-i18n="encrypt.saltLength">ソルト長:</label>
                <input type="number" id="saltLength" value="16" min="8" max="32">
            </div>
            
            <div class="setting-item">
                <label for="compression" data-i18n="encrypt.compression">圧縮を有効化:</label>
                <input type="checkbox" id="compression">
            </div>
            
            <div class="setting-item">
                <label for="fileIntegrity" data-i18n="encrypt.fileIntegrity">ファイル整合性チェック:</label>
                <input type="checkbox" id="fileIntegrity" checked>
            </div>
            
            <div class="setting-item">
                <label for="metadataEncryption" data-i18n="encrypt.metadataEncryption">メタデータも暗号化:</label>
                <input type="checkbox" id="metadataEncryption" checked>
            </div>
            
            <div class="setting-item">
                <label for="multipleKeys" data-i18n="encrypt.multipleKeys">複数キー暗号化:</label>
                <input type="checkbox" id="multipleKeys">
            </div>
        </div>

        <div class="config-buttons">
            <button class="btn btn-secondary" onclick="saveConfig()" data-i18n="encrypt.saveConfig">設定を保存 (JSON)</button>
            <input type="file" id="configFileInput" accept=".json" style="display: none;" onchange="loadConfigFile(event)">
            <button class="btn btn-secondary" onclick="document.getElementById('configFileInput').click()" data-i18n="encrypt.loadConfig">設定を読み込み (JSON)</button>
            <button class="btn btn-secondary" onclick="resetConfig()" data-i18n="encrypt.resetConfig">デフォルトに戻す</button>
        </div>
    </div>
</div>

  <script src="/Drowse-Lab/assets/js/language.js" defer></script>
<script src="/Drowse-Lab/assets/js/footer-nav.js" defer></script>
  
<nav class="footer-nav">
    <ul>
        <li><a href="/Drowse-Lab/contactpolicy.html" data-i18n="footer.contactPolicy">お問い合わせ・ポリシー</a></li>
        <li class="divider"></li>
        <li><button id="langToggleBottom" class="lang-toggle-bottom">Language</button></li>
    </ul>
</nav>
<script src="/Drowse-Lab/assets/js/encrypt.js" defer></script>
<script src="/Drowse_Lab/scripts/manifest-loader.js"></script>

